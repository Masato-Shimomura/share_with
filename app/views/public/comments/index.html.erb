<div class="container mt-4" style="max-width: 800px;">

  <!-- ページタイトル -->
  <h2 class="mb-4">コメント一覧</h2>

  <!-- 操作ボタン -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <%= link_to "コメント投稿",
                new_public_group_post_comment_path(@group, @post),
                class: "btn btn-primary" %>

    <%= link_to "投稿詳細に戻る",
                public_group_post_path(@group, @post),
                class: "btn btn-outline-secondary" %>
  </div>

  <!-- コメント一覧 -->
  <% @comments.each do |comment| %>
    <div class="card mb-3">
      <div class="card-body">

        <!-- 投稿者・日時 -->
        <div class="d-flex justify-content-between mb-2">
          <strong>
            <%= comment.user.last_name %> <%= comment.user.first_name %>
          </strong>
          <small class="text-muted">
            <%= comment.created_at.strftime("%Y/%m/%d %H:%M") %>
          </small>
        </div>

        <!-- 本文 -->
        <p class="mb-3">
          <%= simple_format(comment.body) %>
        </p>

        <!-- 操作ボタン（本人のみ） -->
        <% if comment.user == current_user %>
          <div class="text-end">
            <%= link_to "編集",
                        edit_public_group_post_comment_path(@group, @post, comment),
                        class: "btn btn-sm btn-outline-primary" %>

            <%= link_to "削除",
                        public_group_post_comment_path(@group, @post, comment),
                        method: :delete,
                        data: { confirm: "削除しますか？" },
                        class: "btn btn-sm btn-outline-danger ms-2" %>
          </div>
        <% end %>

      </div>
    </div>
  <% end %>

  <% if @comments.empty? %>
    <div class="alert alert-secondary">
      まだコメントはありません。
    </div>
  <% end %>

</div>
